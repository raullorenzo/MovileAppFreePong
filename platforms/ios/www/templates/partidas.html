<ion-view title="Partidas">
  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
  <ion-content class="has-header">
  	<!-- <div>
  	  <label class="item item-input">
  		<span class="input-label">Buscar Partida:</span>
  		<input type="text" ng-model="searchText">
  	  </label>
  	</div> -->
    <ion-refresher
      pulling-text="Pull to refresh..."
      on-refresh="doRefresh()">
    </ion-refresher>
    <div class="list list-inset">
      <label class="item item-input">
        <i class="icon ion-search placeholder-icon"></i>
        <input type="text" placeholder="Busca una partida" ng-model="searchText">
      </label>
    </div>
    <ion-list>
      <ion-item ng-repeat="partida in partidas | orderBy:'created' | filter:searchText">
        <hr>
        <!-- <p><strong>IDMesa: </strong>{{partida.IDmesa._id}}</p> -->
        <p><strong>Partida Nº: </strong>{{$index+1}}</p>
        <p><strong>Nombre mesa: </strong>{{partida.IDmesa.nombre}}</p>
        <p><strong>Fecha Partida: </strong>{{partida.FechaPartida}}</p>
       <!--  <p><strong>Fecha de creación: </strong>{{partida.created | date:'mediumDate'}}</p> 
        <br> -->
        <button class="button button-small button-positive icon ion-eye" ng-show="!verPartida" style="width: 100%" ng-click="verPartida=true">
        &nbsp;&nbsp;&nbsp;Mostrar Horarios
        </button>
        <button class="button button-small button-assertive icon ion-eye-disabled" ng-show="verPartida" style="width: 100%" ng-click="verPartida=false">
        &nbsp;&nbsp;&nbsp;Ocultar Horarios
        </button>
        <br>
        <hr>
        <div ng-show="verPartida">
          <ion-item>
              <div class="partidaInfo">
                <p>HORARIO: 8:00 - 9:00</p>
                <p><strong>Local: </strong>{{partida.P1.creador.login}}</p>
                <p><strong>Visitante: </strong>{{partida.P1.invitado.login}}</p>
              </div>
              <div class="buttonPartida">
                <button style="background-color:#FF8100" ng-show="partida.P1.creador.login && partida.P1.invitado.login" class="button button-assertive icon ion-locked"></button>
                <button ng-hide="(partida.P1.creador.login && partida.P1.invitado.login) || (!partida.P1.creador.login && !partida.P1.invitado.login)" class="button button-calm icon ion-unlocked"></button>
                <button ng-show="!partida.P1.creador.login && !partida.P1.invitado.login" class="button button-balanced icon ion-unlocked"></button>
              </div>
            </ion-item>
            <ion-item>
              <div class="partidaInfo">
                <p>HORARIO: 9:00 - 10:00</p>
                <p><strong>Local: </strong>{{partida.P2.creador.login}}</p>
                <p><strong>Visitante: </strong>{{partida.P2.invitado.login}}</p>
              </div>
              <div class="buttonPartida">
                <button style="background-color:#FF8100" ng-show="partida.P2.creador.login && partida.P2.invitado.login" class="button button-assertive icon ion-locked"></button>
                <button ng-hide="(partida.P2.creador.login && partida.P2.invitado.login) || (!partida.P2.creador.login && !partida.P2.invitado.login)" class="button button-calm icon ion-unlocked"></button>
                <button ng-show="!partida.P2.creador.login && !partida.P2.invitado.login" class="button button-balanced icon ion-unlocked"></button>
              </div>
            </ion-item>
            <ion-item>
              <div class="partidaInfo">
                <p>HORARIO: 10:00 - 11:00</p>
                <p><strong>Local: </strong>{{partida.P3.creador.login}}</p>
                <p><strong>Visitante: </strong>{{partida.P3.invitado.login}}</p>
              </div>
              <div class="buttonPartida">
                <button style="background-color:#FF8100" ng-show="partida.P3.creador.login && partida.P3.invitado.login" class="button button-assertive icon ion-locked"></button>
                <button ng-hide="(partida.P3.creador.login && partida.P3.invitado.login) || (!partida.P3.creador.login && !partida.P3.invitado.login)" class="button button-calm icon ion-unlocked"></button>
                <button ng-show="!partida.P3.creador.login && !partida.P3.invitado.login" class="button button-balanced icon ion-unlocked"></button>
              </div>
            </ion-item>
            <ion-item>
              <div class="partidaInfo">
                <p>HORARIO: 11:00 - 12:00</p>
                <p><strong>Local: </strong>{{partida.P4.creador.login}}</p>
                <p><strong>Visitante: </strong>{{partida.P4.invitado.login}}</p>
              </div>
              <div class="buttonPartida">
                <button style="background-color:#FF8100" ng-show="partida.P4.creador.login && partida.P4.invitado.login" class="button button-assertive icon ion-locked"></button>
                <button ng-hide="(partida.P4.creador.login && partida.P4.invitado.login) || (!partida.P4.creador.login && !partida.P4.invitado.login)" class="button button-calm icon ion-unlocked"></button>
                <button ng-show="!partida.P4.creador.login && !partida.P4.invitado.login" class="button button-balanced icon ion-unlocked"></button>
              </div>
            </ion-item>
            <ion-item>
              <div class="partidaInfo">
                <p>HORARIO: 12:00 - 13:00</p>
                <p><strong>Local: </strong>{{partida.P5.creador.login}}</p>
                <p><strong>Visitante: </strong>{{partida.P5.invitado.login}}</p>
              </div>
              <div class="buttonPartida">
                <button style="background-color:#FF8100" ng-show="partida.P5.creador.login && partida.P5.invitado.login" class="button button-assertive icon ion-locked"></button>
                <button ng-hide="(partida.P5.creador.login && partida.P5.invitado.login) || (!partida.P5.creador.login && !partida.P5.invitado.login)" class="button button-calm icon ion-unlocked"></button>
                <button ng-show="!partida.P5.creador.login && !partida.P5.invitado.login" class="button button-balanced icon ion-unlocked"></button>
              </div>
            </ion-item>
            <ion-item>
              <div class="partidaInfo">
                <p>HORARIO: 13:00 - 14:00</p>
                <p><strong>Local: </strong>{{partida.P6.creador.login}}</p>
                <p><strong>Visitante: </strong>{{partida.P6.invitado.login}}</p>
              </div>
              <div class="buttonPartida">
                <button style="background-color:#FF8100" ng-show="partida.P6.creador.login && partida.P6.invitado.login" class="button button-assertive icon ion-locked"></button>
                <button ng-hide="(partida.P6.creador.login && partida.P6.invitado.login) || (!partida.P6.creador.login && !partida.P6.invitado.login)" class="button button-calm icon ion-unlocked"></button>
                <button ng-show="!partida.P6.creador.login && !partida.P6.invitado.login" class="button button-balanced icon ion-unlocked"></button>
              </div>
            </ion-item>
            <ion-item>
              <div class="partidaInfo">
                <p>HORARIO: 14:00 - 15:00</p>
                <p><strong>Local: </strong>{{partida.P7.creador.login}}</p>
                <p><strong>Visitante: </strong>{{partida.P7.invitado.login}}</p>
              </div>
              <div class="buttonPartida">
                <button style="background-color:#FF8100" ng-show="partida.P7.creador.login && partida.P7.invitado.login" class="button button-assertive icon ion-locked"></button>
                <button ng-hide="(partida.P7.creador.login && partida.P7.invitado.login) || (!partida.P7.creador.login && !partida.P7.invitado.login)" class="button button-calm icon ion-unlocked"></button>
                <button ng-show="!partida.P7.creador.login && !partida.P7.invitado.login" class="button button-balanced icon ion-unlocked"></button>
              </div>
            </ion-item>
            <ion-item>
              <div class="partidaInfo">
                <p>HORARIO: 15:00 - 16:00</p>
                <p><strong>Local: </strong>{{partida.P8.creador.login}}</p>
                <p><strong>Visitante: </strong>{{partida.P8.invitado.login}}</p>
              </div>
              <div class="buttonPartida">
                <button style="background-color:#FF8100" ng-show="partida.P8.creador.login && partida.P8.invitado.login" class="button button-assertive icon ion-locked"></button>
                <button ng-hide="(partida.P8.creador.login && partida.P8.invitado.login) || (!partida.P8.creador.login && !partida.P8.invitado.login)" class="button button-calm icon ion-unlocked"></button>
                <button ng-show="!partida.P8.creador.login && !partida.P8.invitado.login" class="button button-balanced icon ion-unlocked"></button>
              </div>
            </ion-item>
            <ion-item>
              <div class="partidaInfo">
                <p>HORARIO: 16:00 - 17:00</p>
                <p><strong>Local: </strong>{{partida.P9.creador.login}}</p>
                <p><strong>Visitante: </strong>{{partida.P9.invitado.login}}</p>
              </div>
              <div class="buttonPartida">
                <button style="background-color:#FF8100" ng-show="partida.P9.creador.login && partida.P9.invitado.login" class="button button-assertive icon ion-locked"></button>
                <button ng-hide="(partida.P9.creador.login && partida.P9.invitado.login) || (!partida.P9.creador.login && !partida.P9.invitado.login)" class="button button-calm icon ion-unlocked"></button>
                <button ng-show="!partida.P9.creador.login && !partida.P9.invitado.login" class="button button-balanced icon ion-unlocked"></button>
              </div>
            </ion-item>
            <ion-item>
              <div class="partidaInfo">
                <p>HORARIO: 18:00 - 19:00</p>
                <p><strong>Local: </strong>{{partida.P10.creador.login}}</p>
                <p><strong>Visitante: </strong>{{partida.P10.invitado.login}}</p>
              </div>
              <div class="buttonPartida">
                <button style="background-color:#FF8100" ng-show="partida.P10.creador.login && partida.P10.invitado.login" class="button button-assertive icon ion-locked"></button>
                <button ng-hide="(partida.P10.creador.login && partida.P10.invitado.login) || (!partida.P10.creador.login && !partida.P10.invitado.login)" class="button button-calm icon ion-unlocked"></button>
                <button ng-show="!partida.P10.creador.login && !partida.P10.invitado.login" class="button button-balanced icon ion-unlocked"></button>
              </div>
            </ion-item>
            <ion-item>
              <div class="partidaInfo">
                <p>HORARIO: 19:00 - 20:00</p>
                <p><strong>Local: </strong>{{partida.P11.creador.login}}</p>
                <p><strong>Visitante: </strong>{{partida.P11.invitado.login}}</p>
              </div>
              <div class="buttonPartida">
                <button style="background-color:#FF8100" ng-show="partida.P11.creador.login && partida.P11.invitado.login" class="button button-assertive icon ion-locked"></button>
                <button ng-hide="(partida.P11.creador.login && partida.P11.invitado.login) || (!partida.P11.creador.login && !partida.P11.invitado.login)" class="button button-calm icon ion-unlocked"></button>
                <button ng-show="!partida.P11.creador.login && !partida.P11.invitado.login" class="button button-balanced icon ion-unlocked"></button>
              </div>
            </ion-item>
            <ion-item>
              <div class="partidaInfo">
                <p>HORARIO: 20:00 - 21:00</p>
                <p><strong>Local: </strong>{{partida.P12.creador.login}}</p>
                <p><strong>Visitante: </strong>{{partida.P12.invitado.login}}</p>
              </div>
              <div class="buttonPartida">
                <button style="background-color:#FF8100" ng-show="partida.P12.creador.login && partida.P12.invitado.login" class="button button-assertive icon ion-locked"></button>
                <button ng-hide="(partida.P12.creador.login && partida.P12.invitado.login) || !partida.P12.creador.login && !partida.P12.invitado.login" class="button button-calm icon ion-unlocked"></button>
                <button ng-show="!partida.P12.creador.login && !partida.P12.invitado.login" class="button button-balanced icon ion-unlocked"></button>
              </div>
            </ion-item>
          </div>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>